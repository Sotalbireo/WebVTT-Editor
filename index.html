<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
	<title>WebVTT Editor (beta)</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<style type="text/css">
		.form-control[readonly] {background-color:inherit}
		.text-justify {text-justify:auto;}
		body{overflow:hidden}
		.container{width:100%}
		video{border:2px solid #ccc;padding:5px}
		.console{vertical-align:top;padding:5px;padding-left:15px}
		.pop{background-color:rgba(0,0,0,0.8);z-index:1040;width:100vw;height:100vh;position:absolute;top:0;left:0}
		.pop .step{background-color:#fff;z-index:1050;width:80%;height:70%;position:absolute;top:0;left:10%;padding:10px 15px 15px;}
		.lh-1{line-height:1!important}
		.h-100{height:100%!important}

	</style>
	<script>require('./page.js')</script>
</head>
<body>



	<div id="Body" class="container mt-2">
	<table class="w-100">
		<col width="50%">
	<tbody>
		<tr>
			<td id="VideoPreviewer">
				<video id="Video" controls poster="assets/placehold.png" preload="auto" width="100%" height="auto" crossorigin="anonymous">
				<source src="data/video.mp4" type="video/mp4">
				<track label="Japanese" kind="subtitles" src="./subtitle.ja.vtt" srclang="ja" default></track>
				</video>
			</td>
			<td class="console">
				<p class="text-center text-nowrap mb-0" style="font-size:2em;"><span id="CurrentTime">xx:xx:xx</span> / <span id="TotalTime">xx:xx:xx</span></p>
				<div class="progress mb-4">
					<div id="ProgressBar" class="progress-bar" role="progressbar" aria-volumenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%;height:3px"></div>
				</div>
				<div class="btn-group mb-3 w-100">
					<button id="Prev10" class="btn btn-outline-info py-1 lh-1 w-25"><svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5rem" viewBox="0 0 64 64"><circle fill="#5bc0de" cx="32" cy="32" r="30"/><path fill="#FFF" d="M44.082 14L31.294 25.879V14L11.918 32l19.376 18V38.121L44.082 50z"/></svg> 10s</button>
					<button id="PlayPause" class="btn btn-outline-primary py-1 lh-1 w-50"><svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5rem" viewBox="0 0 64 64"><circle fill="#0275d8" cx="32" cy="32.001" r="30"/><g fill="#FFF"><path d="M13 15.999l19 16-19 16zM35.8 15.999h5.7v32h-5.7zM45.3 15.999H51v32h-5.7z"/></g></svg></button>
					<button id="Fwd10" class="btn btn-outline-info py-1 lh-1 w-25"><svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5rem" viewBox="0 0 64 64"><circle fill="#5bc0de" cx="32" cy="32" r="30"/><path fill="#FFF" d="M19.918 14l12.788 11.879V14l19.376 18-19.376 18V38.121L19.918 50z"/></svg> 10s</button>
				</div>
				<div id="CheckNow" class="mb-2" style="position:relative">
					<div class="input-group">
						<input type="text" class="form-control" onclick="this.select()" readonly>
						<span class="input-group-btn">
							<button class="btn btn-info py-1 lh-1"><svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5rem" viewBox="0 0 64 64"><circle fill="#FFF" cx="32" cy="32" r="30"/><path fill="#5bc0de" d="M30 6h4v32h-4z"/><path fill="#5bc0de" d="M26.001 30h24v4h-24z"/><circle fill="#5bc0de" cx="32" cy="32" r="4"/><circle fill="#5bc0de" cx="32" cy="32" r="3"/></svg></button>
						</span>
					</div>
				</div>
				<div class="btn-group mb-2 w-100">
					<button id="PutBegin" class="btn btn-primary w-50">開始位置</button>
					<button id="PutEnd" class="btn btn-primary w-50">終了位置</button>
				</div>
				<div class="btn-group w-100">
					<button id="Write" class="btn btn-sm btn-outline-danger w-75">ファイル更新</button>
					<button id="WriteReload" class="btn btn-sm btn-outline-danger w-25">＋再読込</button>
				</div>
			</td>
		</tr>
		<tr>
			<td colspan=2 id="TextareaFrame"><textarea id="Textarea" class="form-control h-100 pb-0"></textarea></td>
		</tr>
	</tbody>
	</table>
	</div>


<section><!-- ここtemplate入れ -->
<script id="tplOpenFile" type="text/x-template">
<section id="OpenFile" class="pop" style="display:none"><div class="step rounded-bottom">
	<h1 style="font-size:2rem" class="mb-4">ファイルを開く</h1>
	<form method="post" enctype="multipart/form-data"><div class="row">
		<div class="col-sm-6"><div class="form-group">
			<label for="OpenVideo">動画ファイル</label>
			<input type="file" id="OpenVideo" class="form-control-file" aria-describedby="fileHelp" accept="video/mp4" required>
			<small id="fileHelp" class="form-text text-muted">対応ファイル形式： mp4</small>
		</div></div>
		<div class="col-sm-6">
			<label class="mb-0">字幕・キャプションファイル</label>
			<div>
				<div class="form-check form-check-inline">
					<label class="form-check-label">
						<input type="radio" name="vttSelect" class="form-check-input" value="create" disabled="true"> 新規(実装中)
					</label>
				</div>
				<div class="form-check form-check-inline">
					<label class="form-check-label">
						<input type="radio" name="vttSelect" class="form-check-input" value="import" checked="true"> 読み込み
					</label>
				</div>
			</div>
			<input type="file" id="OpenVtt" class="form-control-file" accept="text/plain,text/vtt" required>
		</div>
		<div class="offset-sm-9 col-sm-3 mt-4">
			<button id="OpenFileSubmit" type="button" class="btn btn-primary btn-block" onclick="console.dir(this.form.OpenVideo.files[0].name)">開く</button>
		</div>
	</div></form>
</div></section>
</script>

<script id="tplVideoPreviewer" type="text/x-template">
<video id="Video" controls poster="assets/placehold.png" preload="auto" width="100%" height="auto" crossorigin="anonymous">
<source src="data/video.mp4" type="video/mp4">
<track label="Japanese" kind="subtitles" src="./subtitle.ja.vtt" srclang="ja" default></track>
</video>
</script>

<!-- ここまでtemplate --></section>
</body>
</html>
